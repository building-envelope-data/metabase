fragment ComponentPartial on Component {
  id
  uuid
  name
  abbreviation
  description
  categories
  availability {
    from
    to
  }
}

query Components {
  components {
    nodes {
      ...ComponentPartial
    }
  }
}

query Component($uuid: Uuid!) {
  component(uuid: $uuid) {
    id
    uuid
    name
    abbreviation
    description
    categories
    availability {
      from
      to
    }
    manufacturers {
      edges {
        node {
          id
          uuid
          name
        }
      }
    }
    assembledOf {
      edges {
        node {
          id
          uuid
          name
          description
        }
        index
        primeSurface
        canCurrentUserUpdateEdge
        canCurrentUserRemoveEdge
      }
      canCurrentUserAddEdge
    }
    partOf {
      edges {
        node {
          id
          uuid
          name
          description
        }
        index
        primeSurface
        canCurrentUserUpdateEdge
        canCurrentUserRemoveEdge
      }
      canCurrentUserAddEdge
    }
    concretizationOf {
      edges {
        node {
          id
          uuid
          name
          description
        }
        canCurrentUserRemoveEdge
      }
      canCurrentUserAddEdge
    }
    generalizationOf {
      edges {
        node {
          id
          uuid
          name
          description
        }
        canCurrentUserRemoveEdge
      }
      canCurrentUserAddEdge
    }
    variantOf {
      edges {
        node {
          id
          uuid
          name
          description
        }
        canCurrentUserRemoveEdge
      }
      canCurrentUserAddEdge
    }
  }
}

mutation CreateComponent(
  $name: String!
  $abbreviation: String
  $description: String!
  $categories: [ComponentCategory!]!
  $availability: OpenEndedDateTimeRangeInput
  $manufacturerId: Uuid!
  $furtherManufacturerIds: [Uuid!]!
  $assembledOfIds: [Uuid!]!
  $partOfIds: [Uuid!]!
  $concretizationOfIds: [Uuid!]!
  $generalizationOfIds: [Uuid!]!
  $variantOfIds: [Uuid!]!
) {
  createComponent(
    input: {
      name: $name
      abbreviation: $abbreviation
      description: $description
      categories: $categories
      availability: $availability
      manufacturerId: $manufacturerId
      furtherManufacturerIds: $furtherManufacturerIds
      assembledOfIds: $assembledOfIds
      partOfIds: $partOfIds
      concretizationOfIds: $concretizationOfIds
      generalizationOfIds: $generalizationOfIds
      variantOfIds: $variantOfIds
    }
  ) {
    component {
      ...ComponentPartial
    }
    errors {
      code
      message
      path
    }
  }
}
