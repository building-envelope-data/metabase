fragment DataFormatPartial on DataFormat {
  id
  uuid
  name
  extension
  description
  mediaType
  schemaLocator
  reference {
    abstract
    section
    title
    ... on Standard {
      locator
      numeration {
        mainNumber
        prefix
        suffix
      }
      standardizers
      year
    }
    ... on Publication {
      arXiv
      authors
      doi
      urn
      webAddress
    }
  }
  manager {
    node {
      id
      uuid
      name
    }
  }
}

query DataFormats {
  dataFormats {
    nodes {
      ...DataFormatPartial
    }
  }
}

query DataFormat($uuid: UUID!) {
  dataFormat(uuid: $uuid) {
    ...DataFormatPartial
  }
}

mutation CreateDataFormat(
  $name: String!
  $extension: String
  $description: String!
  $mediaType: String!
  $schemaLocator: URL
  $standard: CreateStandardInput
  $publication: CreatePublicationInput
  $managerId: UUID!
) {
  createDataFormat(
    input: {
      name: $name
      extension: $extension
      description: $description
      mediaType: $mediaType
      schemaLocator: $schemaLocator
      standard: $standard
      publication: $publication
      managerId: $managerId
    }
  ) {
    dataFormat {
      ...DataFormatPartial
    }
    errors {
      code
      message
      path
    }
  }
}
