fragment DataFields on Data {
  id
  uuid
  timestamp
  componentId
  name
  description
  warnings
  creatorId
  createdAt
  appliedMethod {
    methodId
    arguments {
      name
      value
    }
    sources {
      name
      value {
        dataId
        dataTimestamp
        dataKind
        databaseId
      }
    }
  }
  approvals {
    timestamp
    signature
    keyFingerprint
    query
    response
    approverId
  }
  resources {
    description
    hashValue
    locator
    formatId
    archivedFilesMetaInformation {
      path
      formatId
    }
  }
  resourceTree {
    root {
      vertexId
      value {
        description
        hashValue
        locator
        formatId
        archivedFilesMetaInformation {
          path
          formatId
        }
      }
    }
    nonRootVertices {
      vertexId
      parentId
      value {
        description
        hashValue
        locator
        formatId
        archivedFilesMetaInformation {
          path
          formatId
        }
      }
      appliedConversionMethod {
        methodId
        arguments {
          name
          value
        }
        sourceName
      }
    }
  }
  approval {
    signature
    keyFingerprint
  }
  locale
}

fragment OpticalDataFields on OpticalData {
  ...DataFields
  nearnormalHemisphericalVisibleTransmittances
}

query AllOpticalData(
  $where: OpticalDataPropositionInput!
  $timestamp: DateTime
  $locale: Locale
  $first: NonNegativeInt
  $after: Cursor
  $last: NonNegativeInt
  $before: Cursor
) {
  allOpticalData(
    where: $where
    timestamp: $timestamp
    locale: $locale
    first: $first
    after: $after
    last: $last
    before: $before
  ) {
    edges {
      cursor
      node {
        ...OpticalDataFields
      }
    }
    nodes {
      ...OpticalDataFields
    }
    totalCount
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
      count
    }
    timestamp
  }
}
